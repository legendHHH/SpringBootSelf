package com.example.demo.json;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
import com.alibaba.fastjson.serializer.SerializerFeature;

import java.util.*;
import java.util.stream.Collectors;

/**
 * JSON对象和数组的测试
 *
 * @author legend
 * @version 1.0
 * @description
 * @date 2021/6/7
 */
public class JSONTest {

    public static void main(String[] args) {
        /*String json = "{\"code\":1,\"data\":{\"total\":25,\"isOver\":false,\"proList\":[{\"activityType\":\"\",\"barCode\":\"\",\"brandId\":1061,\"brandName\":\"全部\",\"evaNum\":0,\"factory\":\"曼秀雷敦(中国)药业有限公司\",\"genericName\":\"曼秀雷敦特柔润唇膏\",\"hasStock\":true,\"integralCateId\":0,\"isChain\":1,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"26.9\",\"productCode\":\"2012384\",\"productId\":3510985,\"productImg\":\"https://guodadrugstores.cn/group1/M00/04/2F/CvEVD17pgKuADDe7AADnD0V0c8k430.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>特柔润唇膏-<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>特柔润唇膏\",\"rx\":false,\"salesNum\":4,\"skuId\":3301664,\"spec\":\"3.0g\",\"storeId\":15849,\"storeName\":\"上海国大龙华东路店\",\"xianShiPrice\":\"\"},{\"activityType\":\"5\",\"barCode\":\"\",\"brandId\":1061,\"brandName\":\"全部\",\"evaNum\":0,\"factory\":\"曼秀雷敦(中国)药业有限公司\",\"genericName\":\"曼秀雷敦薄荷润唇膏\",\"hasStock\":true,\"integralCateId\":0,\"isChain\":1,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"25.9\",\"productCode\":\"2095707\",\"productId\":3510689,\"productImg\":\"https://guodadrugstores.cn/group1/M00/03/55/CvEVD15fQk6AdHjrAABsEx8Wmkk351.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>薄荷润唇膏-<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>薄荷润唇膏(SPF15)\",\"rx\":false,\"salesNum\":4,\"skuId\":4991370,\"spec\":\"3.5g\",\"storeId\":15849,\"storeName\":\"上海国大龙华东路店\",\"xianShiPrice\":\"\"},{\"activityType\":\"1\",\"barCode\":\"\",\"brandId\":1061,\"brandName\":\"全部\",\"evaNum\":0,\"exchangeType\":0,\"factory\":\"曼秀雷敦(中国)药业有限公司\",\"genericName\":\"\",\"hasStock\":true,\"integralCateId\":0,\"isChain\":0,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"29.9\",\"productCode\":\"2095695\",\"productId\":5374235,\"productImg\":\"https://guodadrugstores.cn/group1/M00/0A/BC/CvEVD2C0m_mAc-N4AAGKKUEnuYc371.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>男士润唇膏SPF15-冰凉型-<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>男士润唇膏SPF15-冰凉型\",\"rx\":false,\"salesNum\":0,\"skuId\":5260209,\"spec\":\"3.5g\",\"storeId\":4818,\"storeName\":\"国大药房旗舰店\",\"xianShiPrice\":\"24.9\"},{\"activityType\":\"1,5\",\"barCode\":\"\",\"brandId\":1061,\"brandName\":\"全部\",\"evaNum\":0,\"factory\":\"曼秀雷敦(中国)药业有限公司\",\"genericName\":\"曼秀雷敦男士润唇膏SPF15-冰凉型\",\"hasStock\":true,\"integralCateId\":0,\"isChain\":1,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"29.9\",\"productCode\":\"2095695\",\"productId\":3510982,\"productImg\":\"https://guodadrugstores.cn/p/20/12320_main_3.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>男士润唇膏SPF15-冰凉型-<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>男士润唇膏SPF15-冰凉型\",\"rx\":false,\"salesNum\":0,\"skuId\":3301661,\"spec\":\"3.5g\",\"storeId\":15849,\"storeName\":\"上海国大龙华东路店\",\"xianShiPrice\":\"24.9\"},{\"activityType\":\"5\",\"barCode\":\"\",\"brandId\":1061,\"brandName\":\"全部\",\"evaNum\":0,\"factory\":\"曼秀雷敦(中国)药业有限公司\",\"genericName\":\"曼秀雷敦什果冰润唇膏(柠檬味)SPF15\",\"hasStock\":true,\"integralCateId\":0,\"isChain\":1,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"25.9\",\"productCode\":\"1601071\",\"productId\":3510986,\"productImg\":\"https://guodadrugstores.cn/group1/M00/0A/2E/CvEVD2CZ-9GAWZARAAF_K_BbqDo378.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>什果冰润唇膏(柠檬味)SPF15-<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>什果冰润唇膏(柠檬味)SPF15\",\"rx\":false,\"salesNum\":2,\"skuId\":3301665,\"spec\":\"3.5g\",\"storeId\":15849,\"storeName\":\"上海国大龙华东路店\",\"xianShiPrice\":\"\"},{\"activityType\":\"\",\"barCode\":\"\",\"brandId\":1061,\"brandName\":\"全部\",\"evaNum\":0,\"exchangeType\":0,\"factory\":\"曼秀雷敦（中国）药业有限公司\",\"genericName\":\"复方薄荷脑软膏\",\"hasStock\":true,\"integralCateId\":0,\"isChain\":0,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"49.5\",\"productCode\":\"1171166\",\"productId\":5304852,\"productImg\":\"https://guodadrugstores.cn/p/78/6278_main_1.jpg\",\"productName\":\"复方薄荷脑软膏-<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>栢可\",\"rx\":false,\"salesNum\":0,\"skuId\":5175222,\"spec\":\"85g\",\"storeId\":4818,\"storeName\":\"国大药房旗舰店\",\"xianShiPrice\":\"\"},{\"brandId\":1061,\"brandName\":\"全部\",\"factory\":\"曼秀雷敦（中国）药业有限公司\",\"genericName\":\"\",\"hasStock\":true,\"isChain\":1,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"49.5\",\"productCode\":\"1171166\",\"productId\":3511522,\"productImg\":\"https://guodadrugstores.cn/p/78/6278_main_1.jpg\",\"productName\":\"复方薄荷脑软膏-<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>栢可\",\"rx\":false,\"salesNum\":0,\"skuId\":3302201,\"spec\":\"85g\",\"storeId\":15849,\"storeName\":\"上海国大龙华东路店\"},{\"activityType\":\"\",\"barCode\":\"0\",\"brandId\":1061,\"brandName\":\"全部\",\"evaNum\":0,\"factory\":\"曼秀雷敦(中国)药业有限公司(原:曼秀雷墩（中山）药业有限公司)\",\"genericName\":\"复方薄荷脑鼻用吸入剂\",\"hasStock\":true,\"integralCateId\":0,\"isChain\":0,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"19.8\",\"productCode\":\"2044662\",\"productId\":5368952,\"productImg\":\"https://guodadrugstores.cn/group1/M00/00/2F/CvAUDlyLWVOAIdHFAAHb_-oQa9Y914.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font> 复方薄荷脑鼻用吸入剂\",\"rx\":false,\"salesNum\":0,\"skuId\":5248204,\"spec\":\"0.675g\",\"storeId\":4818,\"storeName\":\"国大药房旗舰店\",\"xianShiPrice\":\"\"},{\"activityType\":\"1,5\",\"barCode\":\"\",\"brandId\":1061,\"brandName\":\"全部\",\"evaNum\":0,\"factory\":\"曼秀雷敦(中国)药业有限公司(原:曼秀雷墩（中山）药业有限公司)\",\"genericName\":\"曼秀雷敦 复方薄荷脑鼻用吸入剂\",\"hasStock\":true,\"integralCateId\":0,\"isChain\":1,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"13.5\",\"productCode\":\"2044662\",\"productId\":3511321,\"productImg\":\"https://guodadrugstores.cn/group1/M00/00/2F/CvAUDlyLWVOAIdHFAAHb_-oQa9Y914.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font> 复方薄荷脑鼻用吸入剂\",\"rx\":false,\"salesNum\":9,\"skuId\":3302000,\"spec\":\"0.675g\",\"storeId\":15849,\"storeName\":\"上海国大龙华东路店\",\"xianShiPrice\":\"10.8\"},{\"activityType\":\"\",\"barCode\":\"\",\"brandId\":1061,\"brandName\":\"全部\",\"evaNum\":0,\"exchangeType\":0,\"factory\":\"曼秀雷敦(中国)药业有限公司\",\"genericName\":\"复方门冬维甘滴眼液\",\"hasStock\":true,\"integralCateId\":0,\"isChain\":0,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"36\",\"productCode\":\"1171591\",\"productId\":5304867,\"productImg\":\"https://guodadrugstores.cn/group1/M00/04/C6/CvEVD18021KAAnOhAAD_irGlIxk368.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font> 复方门冬维甘滴眼液 13ml\",\"rx\":false,\"salesNum\":0,\"skuId\":5175242,\"spec\":\"13ml\",\"storeId\":4818,\"storeName\":\"国大药房旗舰店\",\"xianShiPrice\":\"\"},{\"activityType\":\"5\",\"barCode\":\"\",\"brandId\":1061,\"brandName\":\"全部\",\"evaNum\":5,\"factory\":\"曼秀雷敦(中国)药业有限公司\",\"genericName\":\"复方门冬维甘滴眼液\",\"hasStock\":true,\"integralCateId\":0,\"isChain\":1,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"28\",\"productCode\":\"1171591\",\"productId\":3501767,\"productImg\":\"https://guodadrugstores.cn/group1/M00/04/C6/CvEVD18021KAAnOhAAD_irGlIxk368.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font> 复方门冬维甘滴眼液 13ml\",\"rx\":false,\"salesNum\":104,\"skuId\":3292446,\"spec\":\"13ml\",\"storeId\":15849,\"storeName\":\"上海国大龙华东路店\",\"xianShiPrice\":\"\"},{\"brandId\":1061,\"brandName\":\"全部\",\"factory\":\"曼秀雷敦（中国）药业有限公司\",\"genericName\":\"\",\"hasStock\":false,\"isChain\":1,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"26.9\",\"productCode\":\"1600082\",\"productId\":3510987,\"productImg\":\"https://guodadrugstores.cn/p/14/12314_main_1.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>天然润唇膏-<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>天然润唇膏\",\"rx\":false,\"salesNum\":3,\"skuId\":3301666,\"spec\":\"3.0g\",\"storeId\":15849,\"storeName\":\"上海国大龙华东路店\"},{\"activityType\":\"\",\"barCode\":\"\",\"brandId\":1061,\"brandName\":\"全部\",\"evaNum\":0,\"factory\":\"曼秀雷敦(中国)药业有限公司\",\"genericName\":\"曼秀雷敦什果冰润唇膏SPF15-草莓\",\"hasStock\":false,\"integralCateId\":0,\"isChain\":1,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"25.9\",\"productCode\":\"2002495\",\"productId\":4649888,\"productImg\":\"https://guodadrugstores.cn/group1/M00/0A/3E/CvEVD2Cd0NyANXUGAAHV1CuVdTQ318.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>什果冰润唇膏SPF15-草莓(<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>什果冰润唇膏SPF15-草莓)\",\"rx\":false,\"salesNum\":2,\"skuId\":4448201,\"spec\":\"3.5g\",\"storeId\":15849,\"storeName\":\"上海国大龙华东路店\",\"xianShiPrice\":\"\"},{\"brandId\":1061,\"brandName\":\"全部\",\"factory\":\"曼秀雷敦(中国)药业有限公司\",\"genericName\":\"\",\"hasStock\":false,\"isChain\":1,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"26.9\",\"productCode\":\"1611329\",\"productId\":3510989,\"productImg\":\"https://guodadrugstores.cn/p/55/7455_main_1.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>水份润唇膏-薄荷叶(SPF15 PA+)\",\"rx\":false,\"salesNum\":0,\"skuId\":3301668,\"spec\":\"3.5g\",\"storeId\":15849,\"storeName\":\"上海国大龙华东路店\"},{\"activityType\":\"5\",\"barCode\":\"\",\"brandId\":1061,\"brandName\":\"全部\",\"evaNum\":0,\"factory\":\"曼秀雷敦（中国）药业有限公司\",\"genericName\":\"曼秀雷敦什果冰润唇膏(苹果味)SPF15\",\"hasStock\":false,\"integralCateId\":0,\"isChain\":1,\"isGift\":0,\"isPoint\":0,\"points\":0,\"pointsPriceYuan\":\"0\",\"price\":\"25.9\",\"productCode\":\"1600287\",\"productId\":3501754,\"productImg\":\"https://guodadrugstores.cn/group1/M00/0A/2E/CvEVD2CZ9lmAYKlaAAEDKRasGtU551.jpg\",\"productName\":\"<font color='#FF9500'>曼</font><font color='#FF9500'>秀</font><font color='#FF9500'>雷</font><font color='#FF9500'>敦</font>什果冰润唇膏(苹果味)SPF15\",\"rx\":false,\"salesNum\":1,\"skuId\":3292433,\"spec\":\"3.5g\",\"storeId\":15849,\"storeName\":\"上海国大龙华东路店\",\"xianShiPrice\":\"\"}],\"brandMap\":{1061:\"全部\"},\"isAll\":1},\"message\":\"success\"}";

        JSONObject jsonObject = JSONObject.parseObject(json);
        JSONObject data = (JSONObject) jsonObject.get("data");

        List<SearchProductVo> pageList = JSON.parseArray(data.getString("proList"), SearchProductVo.class);
        System.out.println("排序前：" + JSONObject.toJSONString(pageList));
        Map<String, List<SearchProductVo>> listMap = pageList.stream().sorted(Comparator.comparingInt(SearchProductVo::getIsChain).reversed()).collect(Collectors.groupingBy(SearchProductVo::getProductCode));
        List<SearchProductVo> temp = new LinkedList<>();
        listMap.forEach((k, v) -> {
            temp.addAll(v);
        });
        pageList = temp;
        System.out.println("排序后：" + JSONObject.toJSONString(pageList));*/

        //测试2
        String str = "{\"code\":1,\"message\":\"success\",\"data\":[{\"id\":\"001-0000011897-0\",\"productCode\":\"0\",\"productName\":\"德上 大黄通便片 12片*2板/盒\",\"platformProductCode\":\"15980006082297712\",\"platformKey\":\"ele\",\"ppCode\":1,\"syncStatus\":0,\"lastSyncTime\":1625776204265,\"stockNum\":0,\"groupId\":11897,\"isWarning\":0,\"price\":0,\"marketPrice\":0,\"priceSyncTime\":null,\"canSale\":null,\"approvalNumber\":null,\"specs\":null,\"pack\":null,\"manufacturer\":null,\"barcode\":null,\"specialKeys\":null},{\"id\":\"001-0000011897-1100020\",\"productCode\":\"1100020\",\"productName\":\"天济 利多卡因氯己定气雾剂 60g\",\"platformProductCode\":\"15381178402565344\",\"platformKey\":\"ele\",\"ppCode\":1,\"syncStatus\":0,\"lastSyncTime\":1625776204265,\"stockNum\":0,\"groupId\":11897,\"isWarning\":0,\"price\":null,\"marketPrice\":0,\"priceSyncTime\":null,\"canSale\":null,\"approvalNumber\":null,\"specs\":null,\"pack\":null,\"manufacturer\":null,\"barcode\":null,\"specialKeys\":null},{\"id\":\"001-0000011897-1100028\",\"productCode\":\"1100028\",\"productName\":\"友南 吲哚美辛栓  0.1g*10枚/盒\",\"platformProductCode\":\"15936968052224106\",\"platformKey\":\"ele\",\"ppCode\":1,\"syncStatus\":0,\"lastSyncTime\":1625776204265,\"stockNum\":0,\"groupId\":11897,\"isWarning\":0,\"price\":0,\"marketPrice\":0,\"priceSyncTime\":null,\"canSale\":null,\"approvalNumber\":null,\"specs\":null,\"pack\":null,\"manufacturer\":null,\"barcode\":null,\"specialKeys\":null},{\"id\":\"001-0000011897-1100029\",\"productCode\":\"1100029\",\"productName\":\"友南 甲硝唑栓 500mg*10s/盒\",\"platformProductCode\":\"15936968052224041\",\"platformKey\":\"ele\",\"ppCode\":1,\"syncStatus\":0,\"lastSyncTime\":1625776204265,\"stockNum\":0,\"groupId\":11897,\"isWarning\":0,\"price\":580,\"marketPrice\":0,\"priceSyncTime\":null,\"canSale\":null,\"approvalNumber\":null,\"specs\":null,\"pack\":null,\"manufacturer\":null,\"barcode\":null,\"specialKeys\":null},{\"id\":\"001-0000011897-1100033\",\"productCode\":\"1100033\",\"productName\":\"太宁 复方角菜酸酯栓 3.4g*6枚\",\"platformProductCode\":\"15381203922869433\",\"platformKey\":\"ele\",\"ppCode\":1,\"syncStatus\":0,\"lastSyncTime\":1625776204265,\"stockNum\":0,\"groupId\":11897,\"isWarning\":0,\"price\":null,\"marketPrice\":0,\"priceSyncTime\":null,\"canSale\":null,\"approvalNumber\":null,\"specs\":null,\"pack\":null,\"manufacturer\":null,\"barcode\":null,\"specialKeys\":null},{\"id\":\"001-0000011897-1100043\",\"productCode\":\"1100043\",\"productName\":\"友南 对乙酰氨基酚栓 0.15g*10枚\",\"platformProductCode\":\"15381186902657762\",\"platformKey\":\"ele\",\"ppCode\":1,\"syncStatus\":0,\"lastSyncTime\":1625776204265,\"stockNum\":0,\"groupId\":11897,\"isWarning\":0,\"price\":null,\"marketPrice\":0,\"priceSyncTime\":null,\"canSale\":null,\"approvalNumber\":null,\"specs\":null,\"pack\":null,\"manufacturer\":null,\"barcode\":null,\"specialKeys\":null},{\"id\":\"001-0000011897-1100048\",\"productCode\":\"1100048\",\"productName\":\"马应龙 甲硝唑栓 10粒/盒\",\"platformProductCode\":\"15936968062224260\",\"platformKey\":\"ele\",\"ppCode\":1,\"syncStatus\":0,\"lastSyncTime\":1625776204840,\"stockNum\":1,\"groupId\":11897,\"isWarning\":0,\"price\":1980,\"marketPrice\":0,\"priceSyncTime\":null,\"canSale\":null,\"approvalNumber\":null,\"specs\":null,\"pack\":null,\"manufacturer\":null,\"barcode\":null,\"specialKeys\":null},{\"id\":\"001-0000011897-1100078\",\"productCode\":\"1100078\",\"productName\":\"美克 联苯苄唑乳膏 10g\",\"platformProductCode\":\"15381195552778221\",\"platformKey\":\"ele\",\"ppCode\":1,\"syncStatus\":0,\"lastSyncTime\":1625776204840,\"stockNum\":1,\"groupId\":11897,\"isWarning\":0,\"price\":1460,\"marketPrice\":0,\"priceSyncTime\":null,\"canSale\":null,\"approvalNumber\":null,\"specs\":null,\"pack\":null,\"manufacturer\":null,\"barcode\":null,\"specialKeys\":null},{\"id\":\"001-0000011897-1100079\",\"productCode\":\"1100079\",\"productName\":\"达克宁 硝酸咪康唑阴道软胶囊 1.2g*1粒/盒\",\"platformProductCode\":\"1590135382226596\",\"platformKey\":\"ele\",\"ppCode\":1,\"syncStatus\":0,\"lastSyncTime\":1625776204840,\"stockNum\":3,\"groupId\":11897,\"isWarning\":0,\"price\":2780,\"marketPrice\":0,\"priceSyncTime\":1618419282183,\"canSale\":null,\"approvalNumber\":null,\"specs\":null,\"pack\":null,\"manufacturer\":null,\"barcode\":null,\"specialKeys\":null},{\"id\":\"001-0000011897-1100087\",\"productCode\":\"1100087\",\"productName\":\"喜辽妥  多磺酸粘多糖乳膏  14g\",\"platformProductCode\":\"1603686341226197\",\"platformKey\":\"ele\",\"ppCode\":1,\"syncStatus\":0,\"lastSyncTime\":1625776204265,\"stockNum\":0,\"groupId\":11897,\"isWarning\":0,\"price\":3860,\"marketPrice\":0,\"priceSyncTime\":null,\"canSale\":null,\"approvalNumber\":null,\"specs\":null,\"pack\":null,\"manufacturer\":null,\"barcode\":null,\"specialKeys\":null}],\"count\":8413}";
        JSONObject jsonObject = JSONObject.parseObject(str, JSONObject.class);
        String data = String.valueOf(jsonObject.get("data"));
        JSONArray jsonArray = JSONArray.parseArray(data);
        List<Object> list = new ArrayList<>(jsonArray);
        Map<Object, Long> map = list.stream().collect(Collectors.groupingBy(p -> p, Collectors.counting()));
        System.out.println(JSONObject.toJSONString(map));

        Product product = new Product();
        product.setLastUpdateTime(new Date());
        //防止日期变时间戳,默认的会变成时间戳类型
        String jsonString = JSON.toJSONStringWithDateFormat(product, "yyyy-MM-dd HH:mm:ss", SerializerFeature.WriteDateUseDateFormat);
        String jsonString2 = JSONObject.toJSONStringWithDateFormat(product, "yyyy-MM-dd HH:mm:ss", SerializerFeature.WriteDateUseDateFormat);
        System.out.println(jsonString);
        System.out.println(jsonString2);
    }
}
